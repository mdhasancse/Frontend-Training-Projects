<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="style2.css">


</head>

<body>

    <!-- <form onsubmit="submitForm(event)"> -->
        <form onsubmit="return machingPassword() && submitForm(event)">
        <div class="container">
            <h1>Register</h1>
            <p>Please fill in this form to create an account.</p>
            <hr>

            <label class="control-label col-sm-2" for="name">Name:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="name" placeholder="Enter name" name="name" maxlength="50" >
            </div>

            <label class="control-label col-sm-2" for="number">Phone No.:</label>
            <div class="col-sm-10">
                <input type="text tel" class="form-control" id="number" placeholder="Enter number" name="number" pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number." required>
                <!-- <input type="tel" class="form-control" id="number" placeholder="Enter number" name="number" pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number." required> -->
            </div>

            <label class="control-label col-sm-2" for="address">Address:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="address" placeholder="Enter address" name="address" maxlength="50"> 
            </div>

            <label class="control-label col-sm-2" for="area">Area:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="area" placeholder="Enter area" name="area" maxlength="50">
            </div>

            <label class="control-label col-sm-2" for="org">Organization:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="org" placeholder="Enter org" name="org" maxlength="50">
            </div>

            <label class="control-label col-sm-2" for="dep">Department:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="dep" placeholder="Enter dep" name="dep" maxlength="50">
            </div>
            
            <label class="control-label col-sm-2" for="name">Email:</label>
            <div class="col-sm-10">
                <small id="emailHelp" class="form-text text-muted">Valid email formats: example@example.com, example@example.in, example@example.aa</small>
                <input type="text" class="form-control" id="email" placeholder="Enter Email" name="email" pattern="[a-zA-Z0-9]+@[a-zA-Z0-9]+\.(com|in|aa)" title="Please enter a valid email address." required>
                
            </div>

            <label class="control-label col-sm-2" for="psw">Password:</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="psw1" placeholder="Enter password" name="psw1">
            </div>

            <label class="control-label col-sm-2" for="psw-repeat">Repeat Password:</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="psw2" placeholder="Repeat Password" name="psw2">
            </div> 

            <hr>
            <p>By creating an account, you agree to our <a href="#">Terms & Privacy</a>.</p>

            <button type="submit" class="registerbtn" >Register</button>
        </div>
    </form>

    <!-- Display user details in a table -->
    <div id="userDetails">
        <h2>User Details</h2>
        <table id="userTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Phone No.</th>
                    <th>Address</th>
                    <th>Area</th>
                    <th>Organization</th>
                    <th>Department</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <script>
        function submitForm(event) {
            event.preventDefault(); // Prevent form submission to reload the page

            // Get user details from form inputs
            var name = document.getElementById("name").value;
            var number = document.getElementById("number").value;
            var address = document.getElementById("address").value;
            var area = document.getElementById("area").value;
            var organization = document.getElementById("org").value;
            var department = document.getElementById("dep").value;
            var email = document.getElementById("email").value;


            // Create a new row in the table and populate it with user details
            var table = document.getElementById("userTable").getElementsByTagName('tbody')[0];
            var newRow = table.insertRow(table.rows.length);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);
            var cell5 = newRow.insertCell(4);
            var cell6 = newRow.insertCell(5);
            var cell7 = newRow.insertCell(6);


            cell1.innerHTML = name;
            cell2.innerHTML = number;
            cell3.innerHTML = address;
            cell4.innerHTML = area;
            cell5.innerHTML = organization;
            cell6.innerHTML = department;
            cell7.innerHTML = email;
           

            // Clear form inputs after submission
            document.getElementById("name").value = "";
            document.getElementById("number").value = "";
            document.getElementById("address").value = "";
            document.getElementById("area").value = "";
            document.getElementById("org").value = "";
            document.getElementById("dep").value = "";
            document.getElementById("email").value = "";
            document.getElementById("psw").value = "";
            document.getElementById("psw-repeat").value = "";
        }

        // mATCHING PASSWORD
        function machingPassword() {
            var password1 = document.getElementById('psw1').value;
            var password2 = document.getElementById('psw2').value;

            // Check if passwords match
            if (password1 !== password2) {
                alert("Passwords do not match. Please enter matching passwords.");
                return false; // Prevent form submission
            }

            return true; // Allow form submission
        }
    </script>

</body>

</html>